"use strict";(self.webpackChunktame_accommodation=self.webpackChunktame_accommodation||[]).push([[929],{2929:(Z,f,r)=>{r.r(f),r.d(f,{ReservationsComponent:()=>$});var v=r(4875),c=r(3750),d=r(6223),C=r(6814),O=r(7597),m=r(6313),y=r(9315),b=r(7945),p=r(1384),x=r(4506),g=r(8105),h=r(3934),u=r(4966),t=r(9212),T=r(4255),w=r(621),A=r(1474),E=r(9045),D=r(7612),R=r(7911);const I=["startDate"],k=["paymentModal"],U=["paymentWrapper"];function q(i,l){if(1&i&&(t.TgZ(0,"div",62)(1,"div",63)(2,"div",64)(3,"div",65),t._uU(4),t.qZA()()(),t.TgZ(5,"div",66)(6,"h5",67),t._uU(7),t.qZA(),t.TgZ(8,"span",68),t._uU(9),t.qZA()(),t.TgZ(10,"div",69)(11,"a",70),t._UZ(12,"i",71),t.qZA(),t.TgZ(13,"ul",72)(14,"li")(15,"a",73),t._uU(16,"Check Out"),t.qZA()(),t.TgZ(17,"li")(18,"a",73),t._uU(19,"Edit"),t.qZA()(),t.TgZ(20,"li")(21,"a",73),t._uU(22,"Delete"),t.qZA()()()()()),2&i){const e=l.$implicit,o=t.oxw();t.xp6(4),t.hij(" ",e.room.room_name," "),t.xp6(3),t.hij(" ",null==e.booking||null==e.booking.client?null:e.booking.client.name," "),t.xp6(2),t.hij(" ",o.formatBookingDate(e.start_date,e.end_date)," ")}}function F(i,l){1&i&&t._UZ(0,"artdeco-loader")}function L(i,l){1&i&&(t.TgZ(0,"div",86),t.O4$(),t.TgZ(1,"svg",87),t._UZ(2,"path",88)(3,"path",89),t.qZA()())}function J(i,l){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",76),t.NdJ("click",function(){const s=t.CHM(e).$implicit,a=t.oxw(2);return t.KtG(a.addItemToCart(s))}),t.TgZ(2,"span",77)(3,"div",78)(4,"div",17),t._UZ(5,"img",79),t.TgZ(6,"div",80)(7,"div",81),t._uU(8),t.qZA(),t.TgZ(9,"div",82),t._uU(10),t.ALo(11,"formatMoney"),t.qZA()()(),t.TgZ(12,"div",83)(13,"div",17),t.YNc(14,L,4,0,"div",84),t.TgZ(15,"div",85),t._uU(16),t.qZA()()()()()(),t.BQk()}if(2&i){const e=l.$implicit,o=t.oxw(2);t.xp6(3),t.Q6J("title",e.name),t.xp6(5),t.hij(" Room: ",e.name," "),t.xp6(2),t.AsE(" ",e.details.title," / ",t.lcZ(11,6,e.price)," "),t.xp6(4),t.Q6J("ngIf",o.cartItems.includes(e.id)),t.xp6(2),t.hij(" ",e.nights," night(s) ")}}function N(i,l){if(1&i&&(t.TgZ(0,"ul",74),t.YNc(1,J,17,8,"ng-container",75),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.filteredRooms)}}function K(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",90)(1,"app-custom-select",91),t.NdJ("selectionChange",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.reservationForm.value.client_id=n)})("selected",function(n){t.CHM(e);const s=t.oxw();return t.KtG(s.selectClient(n))}),t.TgZ(2,"div",92)(3,"li",93)(4,"a",94)(5,"span",95),t.O4$(),t.TgZ(6,"svg",96),t._UZ(7,"circle",97)(8,"line",98)(9,"line",99),t.qZA(),t._uU(10," \xa0Add New"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("loadDefaults",!0)("selection",e.reservationForm.value.client_id)}}function B(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",100)(1,"h6",30),t._uU(2),t.TgZ(3,"a",101),t.NdJ("click",function(){t.CHM(e);const n=t.oxw();return t.KtG(n.toggleClientSelector())}),t._UZ(4,"em",102),t.qZA()(),t.TgZ(5,"p",103)(6,"span"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",104),t._UZ(9,"app-user-avatar",105),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.hij(" ",e.customer.name," "),t.xp6(5),t.hij("Tel:",e.customer.phone,""),t.xp6(2),t.Q6J("name",e.customer.name)("rounded",!0)}}function S(i,l){1&i&&(t.TgZ(0,"div",106)(1,"div",107),t._UZ(2,"img",108),t.TgZ(3,"p"),t._uU(4,"No rooms added to reservation list"),t.qZA()()())}function W(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",127),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),s=n.$implicit,a=n.index,_=t.oxw();return t.KtG(_.editItemCart(s,"-",a))}),t._uU(1," - "),t.qZA()}if(2&i){const e=t.oxw().$implicit;t.Q6J("disabled",e.quantity<=e.old_quantity)}}function Q(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"button",128),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),s=n.$implicit,a=n.index,_=t.oxw();return t.KtG(_.addItemToCart(s,"-",a))}),t._uU(1," - "),t.qZA()}}function j(i,l){if(1&i&&(t.TgZ(0,"p")(1,"em"),t._uU(2,"Notes:"),t.qZA(),t._uU(3),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.comment)}}function z(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",109)(1,"div",110)(2,"h6",111),t._uU(3),t.qZA(),t.TgZ(4,"div",112)(5,"div",113)(6,"span",114),t.YNc(7,W,2,1,"button",115)(8,Q,2,0,"ng-template",null,116,t.W1O),t.qZA(),t._UZ(10,"input",117),t.TgZ(11,"span",118)(12,"button",119),t.NdJ("click",function(){const n=t.CHM(e),s=n.$implicit,a=n.index,_=t.oxw();return t.KtG(s.old_quantity?_.editItemCart(s,"i",a):_.addItemToCart(s,"+",a))}),t._uU(13," + "),t.qZA()()()()(),t.YNc(14,j,4,1,"p",120),t.TgZ(15,"div",121)(16,"a",122),t._UZ(17,"em",123),t._uU(18," Notes "),t.qZA(),t.TgZ(19,"a",124),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw();return t.KtG(a.removeCartItem(s))}),t._UZ(20,"em",125),t._uU(21," Remove "),t.qZA(),t.TgZ(22,"span",126),t._uU(23),t.ALo(24,"formatMoney"),t.qZA()()()}if(2&i){const e=l.$implicit,o=t.MAs(9);t.xp6(3),t.AsE(" ",e.details.title," | Room ",e.name," "),t.xp6(4),t.Q6J("ngIf",e.old_quantity)("ngIfElse",o),t.xp6(3),t.Q6J("value",e.quantity),t.xp6(4),t.Q6J("ngIf",e.comment),t.xp6(9),t.Oqu(t.lcZ(24,7,e.quantity*e.price))}}function G(i,l){if(1&i&&t._UZ(0,"payment-wrapper",129,130),2&i){const e=t.oxw();t.Q6J("total",e.totalAmount)("paidAmount",0)}}const Y=i=>({"d-none":i});let $=(()=>{class i{constructor(e,o,n,s,a,_,H){this.rm=e,this.rs=o,this.fb=n,this.http=s,this.apiService=a,this.uiService=_,this.toastService=H,this.categories=[],this.rooms=[],this.cart=[],this.categoryFilter={roomId:0,dates:""},this.reservationDates="",this.clientSelectorMode=!0,this.roomKeyword="",this.filterFlag="FILTERING_FLAG",this.reservedRooms=[],this.reservationForm=this.fb.group({client_id:[null,d.kI.required]});const M=new Date,P=new Date(M);P.setDate(M.getDate()+1),this.reservationDates=`${m.b.formatDate(M.toDateString())} to ${m.b.formatDate(P.toString())}`,this.currentDate=M,this.incrementedDate=P}ngOnInit(){this.apiService.onGoingRequestFlag=this.filterFlag;const e=this.http.get("rooms/categories"),o=this.http.get("rooms/available");(0,y.D)([e,o]).subscribe(([n,s])=>{this.categories=n,this.rooms=s}),document.body.classList.add("layout--full"),document.documentElement.setAttribute("data-sidebar-size","sm"),this.rs.getReservedRooms({status:"PENDING"}).subscribe(n=>{this.reservedRooms=n.rows.data})}ngAfterViewInit(){(0,v.Z)(this.startDate.nativeElement,{mode:"range",minDate:"today",dateFormat:"Y-m-d",defaultDate:[this.currentDate,this.incrementedDate],onChange:(o,n,s)=>{const a=n.split("to");a[0]&&a[1]&&(this.reservationDates=`${m.b.formatDate(a[0])} to ${m.b.formatDate(a[1])}`)}})}ngOnDestroy(){document.body.classList.remove("layout--full"),document.documentElement.setAttribute("data-sidebar-size","lg")}get filteredRooms(){const e=this.roomKeyword&&this.roomKeyword.toLocaleLowerCase();let o=this.rooms;return e&&(o=o.filter(n=>(console.log(String(n.name).toLowerCase().indexOf(e)>-1),String(n.name).toLowerCase().indexOf(e)>-1))),o}get cartItems(){return this.cart.map(e=>e.id)}get totalAmount(){return this.cart.reduce((e,o)=>e+o.quantity*o.price,0)}get isFetching(){return this.apiService.isProcessing(this.filterFlag)}openPaymentModal(){this.paymentModal.show()}toggleClientSelector(){this.clientSelectorMode=!this.clientSelectorMode}selectClient(e){this.customer=e,this.toggleClientSelector()}addItemToCart(e,o="+",n){if(typeof n<"u")if("-"==o)this.cart[n].quantity=Number(this.cart[n].quantity)-1,this.cart[n].quantity<=0&&this.cart.splice(n,1);else{if(this.cart[n].quantity>=this.cart[n].nights)return;this.cart[n].quantity=Number(this.cart[n].quantity)+1}else e.quantity=e.nights,e.comment="",this.cart.push(e)}removeCartItem(e){this.cart.splice(e,1)}editItemCart(e,o="+",n){"-"==o?e.old_quantity&&e.quantity>e.old_quantity&&(this.cart[n].quantity=Number(this.cart[n].quantity)-1):(this.cart[n].quantity=Number(this.cart[n].quantity)+1,this.cart[n].edited=!0)}filterRooms(){const e={};if(this.categoryFilter.roomId&&(e.room_id=this.categoryFilter.roomId),this.categoryFilter.dates){const o=this.categoryFilter.dates.split("to");e.start_date=o[0],o[1]&&(e.end_date=o[1])}this.apiService.onGoingRequestFlag=this.filterFlag,this.http.get(b._.encodeQuery("rooms/available",e)).subscribe(o=>{this.rooms=o})}handleSubmit(){const e=this.paymentWrapper.getPaymentData(),o=this.categoryFilter.dates?this.categoryFilter?.dates?.split("to"):this.reservationDates?.split("to");this.rs.handleReserve(b._.generateFormData({client_id:this.reservationForm.value.client_id,rooms:this.cart,start_date:o[0],end_date:o[1],total:this.totalAmount,...e})).subscribe(s=>{this.toastService.setMessage({type:"success",text:"Reservation made successfully"}),this.reservedRooms=[...this.reservedRooms,...s],this.paymentModal.hide(),this.paymentWrapper.paymentForm.reset();const a=[...this.cartItems];this.rooms=this.rooms.filter(_=>!a.includes(_.id)),this.cart=[]})}formatBookingDate(e,o){return`${m.b.formatDate(e)} to ${m.b.formatDate(o)}`}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(T.X),t.Y36(w.D),t.Y36(d.qu),t.Y36(A.eN),t.Y36(E.s),t.Y36(D.F),t.Y36(R.k))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["room-reservations"]],viewQuery:function(o,n){if(1&o&&(t.Gf(I,5),t.Gf(k,5),t.Gf(U,5)),2&o){let s;t.iGM(s=t.CRH())&&(n.startDate=s.first),t.iGM(s=t.CRH())&&(n.paymentModal=s.first),t.iGM(s=t.CRH())&&(n.paymentWrapper=s.first)}},standalone:!0,features:[t.jDz],decls:89,vars:28,consts:[[1,"row","gx-0","h-100"],[1,"col-lg-3","border-end","bg-white"],[1,"d-flex","accomodation-column","flex-column","align-items-center"],[1,"p-2","w-100","position-sticky","top-0",2,"background","#fff","z-index","99"],[1,"input-group"],["type","button",1,"btn","btn-smm","btn-primary","w-50"],["type","button",1,"btn","btn-smm","btn-outline-primary","w-50"],[1,"p-2","w-100",2,"flex","1"],[1,"pb-3","pb-xl-0","mb-3"],[1,"email-search"],[1,"position-relative"],["type","text","placeholder","Search...",1,"form-control","bg-light"],[1,"ri-search-line","fs-18"],["id","booked-rooms"],["class","d-flex flex-nowrap my-3 align-items-center",4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"reservation-header","py-2","ps-2","w-100"],[1,"d-flex","align-items-center"],[1,"me-1","flex-grow-1"],["label","title","placeholder","Select Category",3,"loadDefaults","records","selection","selectionChange"],["type","text","placeholder","Check-In - Check-out",1,"form-control",3,"ngModel","ngModelChange"],["startDate",""],[1,"input-group-text"],[1,"ri-calendar-2-fill"],[1,"me-1"],["classes","btn btn-primary btn-icon","type","button",3,"task","disabled","clicked"],["caption",""],[1,"ri-search-line"],[1,"rooms-container","border-top","w-100"],[1,"d-flex","align-items-center","p-2"],[1,"mb-0"],[1,"badge","badge-outline-info","ms-auto"],[1,"bg-light","item-autocomplete"],[1,"p-2","bg-white"],["id","searchModal"],[1,"position-relative","w-100"],["type","text","placeholder","Search for Room...","autocomplete","off","id","search-options",1,"form-control","border-2",3,"ngModel","ngModelChange"],[1,"ri-search-line","search-widget-icon","fs-19"],["href","javascript:void(0);","id","search-close-options",1,"search-widget-icon","fs-14","link-secondary","text-decoration-underline","search-widget-icon-close"],[1,"ac-dropdown-menu","position-relative"],[4,"ngIf","ngIfElse"],["dataFetched",""],[1,"col-lg-3","border-start","shadow","pe-0"],[1,"px-2","py-3","w-100",2,"flex","1"],[1,"d-flex","align-items-center","justify-content-between"],["style","flex: 1",4,"ngIf","ngIfElse"],["customerView",""],[1,"pt-3","pb-2","border-bottom"],[1,"order-details","pt-3"],["class","d-flex h-100 justify-content-center pt-5",4,"ngIf"],["class","py-3 border-bottom",4,"ngFor","ngForOf"],[1,"pay-now-container","w-100","px-2"],["type","button",1,"btn","btn-primary","btn-md","w-100",3,"disabled","click"],[1,"ms-auto"],[1,"ri-arrow-right-line",2,"vertical-align","middle"],["classes","modal-sm fade fadeInRight","dialogClasses","modal-dialog-bottom-right",3,"customId"],["paymentModal",""],["title",""],["body",""],[3,"total","paidAmount",4,"ngIf"],["footer","",1,"d-grid","w-100"],["classes","btn btn-primary w-100","type","button",3,"task","clicked"],[1,"d-flex","flex-nowrap","my-3","align-items-center"],[1,"flex-shrink-0"],[1,"booked-room"],[1,"booked-room-title","bg-primary","rounded"],[1,"flex-grow-1","ms-2"],[1,"fs-15","mb-0"],[1,"text-muted","mt-0","mb-0","fs-14"],[1,"dropdown","ms-auto"],["href","javascript:void(0)","role","button","id","dropdownMenuLink1","data-bs-toggle","dropdown","aria-expanded","false",1,""],[1,"ri-more-2-fill","fs-18"],["aria-labelledby","dropdownMenuLink1",1,"dropdown-menu"],["href","javascript:void(0)",1,"dropdown-item"],[1,"ac-dropdown-results","input-block-level"],[4,"ngFor","ngForOf"],[1,"ac-option","inactive","border-bottom",3,"click"],["tabindex","-1"],[1,"autocomplete-option",3,"title"],["src","./assets/img/icons8-room.png","alt","keys",1,"img-fuild",2,"width","40px"],[1,"ms-1"],[1,"ac-name","h6","mb-0"],[1,"grey-text"],[1,"svg-tick","ms-auto"],["class","tick-filled d-inline me-2",4,"ngIf"],[1,"text-success"],[1,"tick-filled","d-inline","me-2"],["id","Layer_1","data-name","Layer 1","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 512 512",1,"icon","icon-xlg"],["d","M256.36.21C115 .21.36 114.83.36 256.21s114.62 256 256 256 256-114.61 256-256-114.61-256-256-256zm134.32 225.48L254.37 362a22.5 22.5 0 01-31.82 0l-70.79-70.79a22.5 22.5 0 1131.82-31.82l54.88 54.88 120.4-120.4a22.5 22.5 0 0131.82 31.82z","transform","translate(-.36 -.21)"],["d","M358.86 193.87l-120.4 120.4-54.88-54.88a22.5 22.5 0 10-31.82 31.82L222.55 362a22.5 22.5 0 0031.82 0l136.31-136.31a22.5 22.5 0 00-31.82-31.82z","transform","translate(-.36 -.21)","fill","#fff"],[2,"flex","1"],["url","clients/search?with_phones=1","label","name","placeholder","Select Customer","fetchFlag","SEARCHING_CLIENTS",3,"loadDefaults","selection","selectionChange","selected"],["footer","",1,"position-sticky","bottom-0","bg-white"],[1,"border-top","dropdown-item","pl-7"],["href","javascript:void(0)"],[1,"text-blue","cursor-pointer"],["height","18px","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","16"],["x1","8","y1","12","x2","16","y2","12"],[1,"d-block"],["href","javascript:void(0)",3,"click"],[1,"ri-pencil-line"],[1,"m-0"],[2,"margin-top","-8px"],["width","34px","height","34px",3,"name","rounded"],[1,"d-flex","h-100","justify-content-center","pt-5"],[1,"text-center"],["src","./assets/img/original.png","alt","no Itens",1,"img-fuild",2,"width","80px"],[1,"py-3","border-bottom"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"fw-bolder","mb-0"],[1,"dz-stepper","small-stepper","border","rounded"],[1,"input-group","bootstrap-touchspin","bootstrap-touchspin-injected"],[1,"input-group-btn","input-group-prepend"],["class","btn btn-info bootstrap-touchspin-down","type","button",3,"disabled","click",4,"ngIf","ngIfElse"],["notEditMode",""],["type","text",1,"stepper","form-control",3,"value"],[1,"input-group-btn","input-group-append"],["type","button",1,"btn","btn-primary","bootstrap-touchspin-up",3,"click"],[4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center"],["href","javascript:void(0)",1,"badge","rounded-pill","badge-soft-success"],[1,"ri-edit-box-fill",2,"vertical-align","middle"],["href","javascript:void(0)",1,"badge","rounded-pill","badge-soft-danger",3,"click"],[1,"ri-delete-bin-line",2,"vertical-align","middle"],[1,"h6","mb-0"],["type","button",1,"btn","btn-info","bootstrap-touchspin-down",3,"disabled","click"],["type","button",1,"btn","btn-info","bootstrap-touchspin-down",3,"click"],[3,"total","paidAmount"],["paymentWrapper",""]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5"),t._uU(5,"Reserved Rooms"),t.qZA(),t.TgZ(6,"div",4)(7,"button",5),t._uU(8," OCCUPIED "),t.qZA(),t.TgZ(9,"button",6),t._uU(10," UPCOMING "),t.qZA()()(),t.TgZ(11,"div",7)(12,"div",8)(13,"form",9)(14,"div",10),t._UZ(15,"input",11)(16,"span",12),t.qZA()()(),t.TgZ(17,"div",13),t.YNc(18,q,23,3,"div",14),t.qZA()()()(),t.TgZ(19,"div",15)(20,"div",2)(21,"div",16)(22,"div",17)(23,"div",18)(24,"app-custom-select",19),t.NdJ("selectionChange",function(a){return n.categoryFilter.roomId=a}),t.qZA()(),t.TgZ(25,"div",18)(26,"div",4)(27,"input",20,21),t.NdJ("ngModelChange",function(a){return n.categoryFilter.dates=a}),t.qZA(),t.TgZ(29,"div",22),t._UZ(30,"i",23),t.qZA()()(),t.TgZ(31,"div",24)(32,"app-button",25),t.NdJ("clicked",function(){return n.filterRooms()}),t.TgZ(33,"span",26),t._UZ(34,"i",27),t.qZA()()()()(),t.TgZ(35,"div",28)(36,"div",29)(37,"h5",30),t._uU(38," Available Rooms "),t.TgZ(39,"small"),t._uU(40),t.qZA()(),t.TgZ(41,"span",31),t._uU(42),t.qZA()(),t.TgZ(43,"div",32)(44,"div",33)(45,"div",34)(46,"div",35)(47,"input",36),t.NdJ("ngModelChange",function(a){return n.roomKeyword=a}),t.qZA(),t._UZ(48,"span",37),t.TgZ(49,"a",38),t._uU(50,"Clear"),t.qZA()()()(),t.TgZ(51,"div",39),t.YNc(52,F,1,0,"artdeco-loader",40)(53,N,2,1,"ng-template",null,41,t.W1O),t.qZA()()()()(),t.TgZ(55,"div",42)(56,"div",2)(57,"div",43)(58,"div",44),t.YNc(59,K,11,2,"div",45)(60,B,10,4,"ng-template",null,46,t.W1O),t.qZA(),t.TgZ(62,"div",47)(63,"span"),t._uU(64),t.qZA()(),t.TgZ(65,"div",48)(66,"h5",30),t._uU(67,"Reservation Details"),t.qZA(),t.YNc(68,S,5,0,"div",49)(69,z,25,9,"div",50),t.qZA()(),t.TgZ(70,"div",51)(71,"button",52),t.NdJ("click",function(){return n.openPaymentModal()}),t.TgZ(72,"div",17)(73,"span"),t._uU(74),t.ALo(75,"formatMoney"),t.qZA(),t.TgZ(76,"div",53),t._uU(77," Proceed Booking "),t._UZ(78,"em",54),t.qZA()()()()()()(),t.TgZ(79,"app-modal",55,56)(81,"span",57),t._uU(82,"Process Payment"),t.qZA(),t.TgZ(83,"div",58),t.YNc(84,G,2,2,"payment-wrapper",59),t.qZA(),t.TgZ(85,"div",60)(86,"app-button",61),t.NdJ("clicked",function(){return n.handleSubmit()}),t.TgZ(87,"span",26),t._uU(88,"Confirm and Save"),t.qZA()()()()),2&o){const s=t.MAs(54),a=t.MAs(61);t.xp6(18),t.Q6J("ngForOf",n.reservedRooms),t.xp6(6),t.Q6J("loadDefaults",!1)("records",n.categories)("selection",n.categoryFilter.roomId),t.xp6(3),t.Q6J("ngModel",n.categoryFilter.dates),t.xp6(5),t.Q6J("task",n.filterFlag)("disabled",n.isFetching||!n.categoryFilter.roomId&&!n.categoryFilter.dates),t.xp6(8),t.Oqu(n.reservationDates),t.xp6(2),t.hij("",n.rooms.length," AVAILABLE"),t.xp6(5),t.Q6J("ngModel",n.roomKeyword),t.xp6(2),t.Tol(t.VKq(26,Y,!n.roomKeyword)),t.xp6(3),t.Q6J("ngIf",n.isFetching)("ngIfElse",s),t.xp6(7),t.Q6J("ngIf",n.clientSelectorMode)("ngIfElse",a),t.xp6(5),t.Oqu(n.reservationDates),t.xp6(4),t.Q6J("ngIf",!n.cart.length),t.xp6(1),t.Q6J("ngForOf",n.cart),t.xp6(2),t.Q6J("disabled",!n.totalAmount||!n.reservationForm.value.client_id),t.xp6(3),t.Oqu(t.lcZ(75,24,n.totalAmount)),t.xp6(5),t.Q6J("customId","payment-modal"),t.xp6(5),t.Q6J("ngIf",n.totalAmount),t.xp6(2),t.Q6J("task","BOOKING_ROOMS")}},dependencies:[c.T,d.u5,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,C.ax,C.O5,O.k,p.r,x.Q,g.z,h.y,u.l],styles:['html[_ngcontent-%COMP%], body[_ngcontent-%COMP%], .full-height[_ngcontent-%COMP%]{height:100%}.ac-dropdown-menu[_ngcontent-%COMP%]{background-color:#fafcff;border-right:1px solid #dadce0}.ac-dropdown-menu[_ngcontent-%COMP%]   .ac-dropdown-results[_ngcontent-%COMP%]{list-style:none}.ac-dropdown-menu[_ngcontent-%COMP%]   .ac-option[_ngcontent-%COMP%]{padding:7px 10px;color:#000;border-radius:2px;cursor:pointer}.ac-dropdown-menu[_ngcontent-%COMP%]   .ac-option[_ngcontent-%COMP%]   .hover-tick[_ngcontent-%COMP%]{display:none}.ac-dropdown-menu[_ngcontent-%COMP%]   .ac-option[_ngcontent-%COMP%]   .tick-filled[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:middle;fill:#22dd2e}.ac-dropdown-menu[_ngcontent-%COMP%]   .ac-option.active[_ngcontent-%COMP%], .ac-option[_ngcontent-%COMP%]:hover{background-color:#f1f4f9!important}.selected[_ngcontent-%COMP%]{background-color:inherit}.ac-dropdown-results[_ngcontent-%COMP%]{position:relative;display:block;width:100%;min-height:0;min-width:0;overflow-x:hidden;margin:0;padding:0;border-radius:0;border-top:none;border-bottom:none}.autocomplete-option[_ngcontent-%COMP%]{width:100%;padding:2px 0;line-height:1.2;white-space:normal}.ac-dropdown-results[_ngcontent-%COMP%]:after, .autocomplete-option[_ngcontent-%COMP%]:after{content:""}.item-autocomplete[_ngcontent-%COMP%]   .autocomplete-option[_ngcontent-%COMP%]{display:flex}.item-autocomplete[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{border:none;box-shadow:none;resize:none}.item-autocomplete[_ngcontent-%COMP%]   .ac-dropdown[_ngcontent-%COMP%]{z-index:1}.item-autocomplete[_ngcontent-%COMP%]   .ac-dropdown-menu[_ngcontent-%COMP%]   .ac-dropdown-results[_ngcontent-%COMP%]{max-height:450px;word-wrap:break-word}.item-autocomplete[_ngcontent-%COMP%]   .ac-dropdown-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .autocomplete-option[_ngcontent-%COMP%], .item-autocomplete[_ngcontent-%COMP%]   .ac-dropdown-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .grey-text[_ngcontent-%COMP%], .item-autocomplete[_ngcontent-%COMP%]   .ac-dropdown-menu[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .stock-unavailable[_ngcontent-%COMP%]{color:#fff}.item-autocomplete[_ngcontent-%COMP%]   .grey-text[_ngcontent-%COMP%]{color:#777}svg.icon[_ngcontent-%COMP%]{width:16px;height:16px;fill:currentColor}svg.icon.icon-xsmall[_ngcontent-%COMP%]{height:10px;width:10px}svg.icon.icon-xlg[_ngcontent-%COMP%]{height:20px;width:20px}#searchModal[_ngcontent-%COMP%]   .search-widget-icon[_ngcontent-%COMP%]{position:absolute;top:5px}.dz-stepper[_ngcontent-%COMP%]{width:70px;padding:.1rem!important}.dz-stepper[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{text-align:center;display:block;color:var(--dark);font-weight:500;margin-bottom:5px}.dz-stepper[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.dz-stepper[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]{height:100%}.dz-stepper[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:0;text-align:center;border:1px solid var(--border-color);font-size:18px;line-height:1}.dz-stepper[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]   .input-group-btn[_ngcontent-%COMP%]:not(:first-child){padding:0}.dz-stepper[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:0 5px;height:100%;font-weight:500;color:var(--dark);background:0 0;border:0;z-index:3;text-align:center}.dz-stepper.border-2[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]{overflow:hidden}.dz-stepper.border-2[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-width:2px}.dz-stepper.small-stepper[_ngcontent-%COMP%]   .bootstrap-touchspin[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:22px;height:22px}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus{z-index:unset}.grey-bg[_ngcontent-%COMP%]{background-color:#fbfafa}.accomodation-column[_ngcontent-%COMP%]{--acco-height:calc(100vh - 48px) !important;height:var(--acco-height);max-height:var(--acco-height);overflow-y:auto}.pay-now-container[_ngcontent-%COMP%]{position:sticky;bottom:5px}.booked-room[_ngcontent-%COMP%]{height:2.8rem;width:3rem}.booked-room-title[_ngcontent-%COMP%]{align-items:center;color:#fff;display:flex;font-weight:500;height:100%;justify-content:center;width:100%}']})}return i})()},1384:(Z,f,r)=>{r.d(f,{r:()=>b});var v=r(6814),c=r(9212),d=r(9045);function C(p,x){1&p&&c._UZ(0,"span",4)}function O(p,x){1&p&&c.Hsn(0)}const m=[[["","caption",""]]],y=["[caption]"];let b=(()=>{class p{constructor(g){this.apiService=g,this.requests={},this.task="",this.classes="",this.type="submit",this.disabled=!1,this.clicked=new c.vpe}ngOnInit(){this.apiService.request$.subscribe(g=>{this.requests=g})}get isRequesting(){return!!this.requests&&Object.keys(this.requests).includes(this.task)}handleClick(){this.apiService.onGoingRequestFlag=this.task,this.clicked.emit()}static#t=this.\u0275fac=function(h){return new(h||p)(c.Y36(d.s))};static#e=this.\u0275cmp=c.Xpm({type:p,selectors:[["app-button"]],inputs:{task:"task",classes:"classes",type:"type",disabled:"disabled"},outputs:{clicked:"clicked"},standalone:!0,features:[c.jDz],ngContentSelectors:y,decls:6,vars:5,consts:[[3,"type","disabled","ngClass","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf","ngIfElse"],[1,"visually-hidden"],["notRequesting",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(h,u){if(1&h&&(c.F$t(m),c.TgZ(0,"button",0),c.NdJ("click",function(){return u.handleClick()}),c.YNc(1,C,1,0,"span",1),c.TgZ(2,"span",2),c._uU(3,"Loading..."),c.qZA(),c.YNc(4,O,1,0,"ng-template",null,3,c.W1O),c.qZA()),2&h){const t=c.MAs(5);c.Q6J("type",u.type)("disabled",u.disabled)("ngClass",u.classes),c.xp6(1),c.Q6J("ngIf",u.isRequesting)("ngIfElse",t)}},dependencies:[v.mk,v.O5]})}return p})()}}]);