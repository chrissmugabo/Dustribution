"use strict";(self.webpackChunktame_accommodation=self.webpackChunktame_accommodation||[]).push([[222],{3222:(y,p,r)=>{r.r(p),r.d(p,{SharedComponent:()=>A});var h=r(6814),t=r(6223),g=r(1384),e=r(9212);const _=["*",[["","body",""]]],v=["*","[body]"];let Z=(()=>{class a{constructor(){this.searchKey="",this.searching=new e.vpe,this.actionRequested=new e.vpe}handleSearch(){this.searching.emit(this.searchKey)}static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["list-items-container"]],outputs:{searching:"searching",actionRequested:"actionRequested"},standalone:!0,features:[e.jDz],ngContentSelectors:v,decls:21,vars:1,consts:[[1,"ant-transfer-list","bg-white"],[1,"ant-transfer-list-header"],[1,"ant-transfer-list-header-selected"],[1,"fw-bold"],[1,"ant-transfer-list-header-title"],["type","button","title","Add new",1,"btn","btn-primary","btn-sm","btn-icon-only","rounded-circle",3,"click"],[1,"btn-inner--icon"],["height","18px","viewBox","0 0 16 16","xmlns","http://www.w3.org/2000/svg","fill","currentColor",2,"margin","-3px"],["fill-rule","evenodd","d","M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"],["fill-rule","evenodd","d","M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"],[1,"ant-transfer-list-body","ant-transfer-list-body-with-search"],[1,"ant-transfer-list-body-search-wrapper"],["placeholder","Search here","type","search",1,"ant-input","ant-transfer-list-search",3,"ngModel","input","ngModelChange"],[1,"ant-transfer-list-search-action"],[1,"anticon","anticon-search"],["viewBox","64 64 896 896","data-icon","search","width","1em","height","1em","fill","currentColor","aria-hidden","true","focusable","false",1,""],["d","M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"],[1,"ant-transfer-list-content","mt-2"]],template:function(n,i){1&n&&(e.F$t(_),e.TgZ(0,"div",0)(1,"div",1)(2,"span",2)(3,"span",3),e.Hsn(4,0,["name","[title]"]),e.qZA(),e.TgZ(5,"span",4)(6,"button",5),e.NdJ("click",function(){return i.actionRequested.emit()}),e.TgZ(7,"span",6),e.O4$(),e.TgZ(8,"svg",7),e._UZ(9,"path",8)(10,"path",9),e.qZA()()()()()(),e.kcU(),e.TgZ(11,"div",10)(12,"div",11)(13,"div")(14,"input",12),e.NdJ("input",function(){return i.handleSearch()})("ngModelChange",function(l){return i.searchKey=l}),e.qZA(),e.TgZ(15,"span",13)(16,"i",14),e.O4$(),e.TgZ(17,"svg",15),e._UZ(18,"path",16),e.qZA()()()()(),e.kcU(),e.TgZ(19,"div",17),e.Hsn(20,1),e.qZA()()()),2&n&&(e.xp6(14),e.Q6J("ngModel",i.searchKey))},dependencies:[t.u5,t.Fj,t.JJ,t.On]})}return a})();var b=r(8105),c=r(8494),C=r(7911),d=r(4005),m=r(1474),u=r(7890);const f=["formModal"];function T(a,w){if(1&a){const s=e.EpF();e.TgZ(0,"li",23)(1,"div",24)(2,"div",25)(3,"span",26),e._uU(4),e.qZA()(),e.TgZ(5,"div",27)(6,"div",28)(7,"button",29),e._UZ(8,"i",30),e.qZA(),e.TgZ(9,"ul",31)(10,"li")(11,"a",32),e.NdJ("click",function(){const o=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.goToPermissions(o))}),e._UZ(12,"i",33),e._uU(13," Permissions "),e.qZA()(),e.TgZ(14,"li")(15,"button",34),e.NdJ("click",function(){const o=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.openModal(o))}),e._UZ(16,"i",35),e._uU(17," Edit "),e.qZA()(),e.TgZ(18,"li")(19,"a",36),e.NdJ("click",function(){const o=e.CHM(s).$implicit,l=e.oxw();return e.KtG(l.handleDestroy(o.id))}),e._UZ(20,"i",37),e._uU(21," Delete "),e.qZA()()()()()()()}if(2&a){const s=w.$implicit;e.xp6(4),e.hij(" ",s.name," ")}}let U=(()=>{class a{constructor(s,n,i,o,l){this.ts=s,this.fb=n,this.us=i,this.http=o,this.router=l,this.roles=[],this.searchKey="",this.roleForm=this.fb.group({id:0,name:["",t.kI.required],description:[""],status:["active"]})}goToPermissions(s){this.router.navigate([c.n.PERMISSIONS.path,s.id])}ngOnInit(){this.us.getUserRoles().subscribe(s=>{this.roles=s})}get filteredRoles(){const s=this.searchKey&&this.searchKey.toLowerCase();let n=this.roles;return s&&(n=n.filter(i=>String(i.name).toLowerCase().indexOf(s)>-1)),n}handleSubmit(){const s=this.roleForm.value;this.http.post("roles/store",s).subscribe(n=>{if(this.ts.setMessage({type:"success",text:"Record saved successfully"}),s.id){const i=this.roles.findIndex(o=>o.id==s.id);-1!==i&&(this.roles[i]=n)}else this.roles.unshift(n);this.formModal.hide()})}handleDestroy(s){this.http.delete(`roles/destroy/${s}`).subscribe(()=>{const n=this.roles.findIndex(i=>i.id==s);this.roles.splice(n,1),this.ts.setMessage({type:"success",text:"Record deleted successfully"})})}handleSearch(s){this.searchKey=s}openModal(s){s&&this.roleForm.patchValue(s),this.formModal.show()}static#e=this.\u0275fac=function(n){return new(n||a)(e.Y36(C.k),e.Y36(t.qu),e.Y36(d.K),e.Y36(m.eN),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-roles"]],viewQuery:function(n,i){if(1&n&&e.Gf(f,5),2&n){let o;e.iGM(o=e.CRH())&&(i.formModal=o.first)}},standalone:!0,features:[e.jDz],decls:33,vars:6,consts:[[3,"actionRequested","searching"],["title",""],["body","",1,"list-group","list-group-flush","my-1"],["class","list-group-item ps-2 py-1 border-bottom",4,"ngFor","ngForOf"],["classes","modal-sm fade zoomIn",3,"customId"],["formModal",""],["body",""],[1,"auth-input",3,"formGroup","submit"],[1,"mb-2"],["for","role_name",1,"form-label","required"],["type","text","id","role_name","placeholder","","formControlName","name",1,"form-control"],["for","description",1,"form-label","required"],["type","text","id","description","placeholder","Optional Comment","formControlName","description",1,"form-control"],[1,"mb-2","ps-2"],["dir","ltr",1,"form-check","form-switch","form-switch-lg"],["type","checkbox","id","role_status","formControlName","status",1,"form-check-input"],["for","role_status",1,"form-check-label"],["footer","",1,"d-grid","w-100"],[1,"row","w-100"],[1,"col-6"],["type","button","id","reset-layout",1,"btn","btn-light","w-100"],["classes","btn btn-primary w-100","type","button",3,"task","clicked"],["caption",""],[1,"list-group-item","ps-2","py-1","border-bottom"],[1,"d-flex","align-items-center"],[1,"col-auto"],[1,"mb-0","h6"],[1,"ms-auto"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-soft-primary","btn-sm","dropdown"],[1,"ri-more-fill","align-middle"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],[1,"ri-lock-2-line","fs-18","align-middle","me-2","text-muted"],["type","button",1,"dropdown-item",3,"click"],[1,"ri-pencil-fill","fs-18","align-middle","me-2","text-muted"],["href","javascript:void(0);",1,"dropdown-item","remove-item-btn",3,"click"],[1,"ri-delete-bin-line","fs-18","align-middle","me-2","text-muted"]],template:function(n,i){1&n&&(e.TgZ(0,"list-items-container",0),e.NdJ("actionRequested",function(){return i.openModal()})("searching",function(l){return i.handleSearch(l)}),e.TgZ(1,"span",1),e._uU(2),e.qZA(),e.TgZ(3,"ul",2),e.YNc(4,T,22,1,"li",3),e.qZA()(),e.TgZ(5,"app-modal",4,5)(7,"span",1),e._uU(8),e.qZA(),e.TgZ(9,"div",6)(10,"form",7),e.NdJ("submit",function(){return i.handleSubmit()}),e.TgZ(11,"div",8)(12,"label",9),e._uU(13,"Role Name"),e.qZA(),e._UZ(14,"input",10),e.qZA(),e.TgZ(15,"div",8)(16,"label",11),e._uU(17,"Description"),e.qZA(),e._UZ(18,"textarea",12),e.qZA(),e.TgZ(19,"div",13)(20,"div",14),e._UZ(21,"input",15),e.TgZ(22,"label",16),e._uU(23,"Active"),e.qZA()()()()(),e.TgZ(24,"div",17)(25,"div",18)(26,"div",19)(27,"button",20),e._uU(28," Reset "),e.qZA()(),e.TgZ(29,"div",19)(30,"app-button",21),e.NdJ("clicked",function(){return i.handleSubmit()}),e.TgZ(31,"span",22),e._uU(32,"Save"),e.qZA()()()()()()),2&n&&(e.xp6(2),e.hij(" ",i.filteredRoles.length," User's Roles "),e.xp6(2),e.Q6J("ngForOf",i.filteredRoles),e.xp6(1),e.Q6J("customId","role-modal"),e.xp6(3),e.hij(" ",i.roleForm.value.id?"Edit role "+i.roleForm.value.name:"Add a new role",""),e.xp6(2),e.Q6J("formGroup",i.roleForm),e.xp6(20),e.Q6J("task","ADDING_ROLE"))},dependencies:[Z,g.r,b.z,t.u5,t._Y,t.Fj,t.Wl,t.JJ,t.JL,t.UX,t.sg,t.u,h.ax]})}return a})(),A=(()=>{class a{static#e=this.\u0275fac=function(n){return new(n||a)};static#t=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-shared"]],standalone:!0,features:[e.jDz],decls:29,vars:0,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-sm-flex","align-items-center","justify-content-between"],[1,"mb-sm-0"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"],[1,"w-100"],[1,"orders-container"],[1,"order-item"],[1,"order-card"]],template:function(n,i){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"Settings"),e.qZA(),e.TgZ(5,"div",4)(6,"ol",5)(7,"li",6)(8,"a",7),e._uU(9,"Settings"),e.qZA()(),e.TgZ(10,"li",8),e._uU(11,"Shared Settings"),e.qZA()()()()()(),e.TgZ(12,"div",9)(13,"div",10)(14,"div",11),e._UZ(15,"div",12),e.qZA(),e.TgZ(16,"div",11)(17,"div",12),e._UZ(18,"app-user-roles"),e.qZA()(),e.TgZ(19,"div",11),e._UZ(20,"div",12),e.qZA(),e.TgZ(21,"div",11),e._UZ(22,"div",12),e.qZA(),e.TgZ(23,"div",11),e._UZ(24,"div",12),e.qZA(),e.TgZ(25,"div",11),e._UZ(26,"div",12),e.qZA(),e.TgZ(27,"div",11),e._UZ(28,"div",12),e.qZA()()())},dependencies:[U],styles:[".order-item[_ngcontent-%COMP%]{margin:0 0 10px;display:grid;grid-template-rows:1fr auto;break-inside:avoid}.order-item[_ngcontent-%COMP%] > .order-card[_ngcontent-%COMP%]{grid-row:1 / -1;grid-column:1}.orders-container[_ngcontent-%COMP%]{column-count:3;column-gap:10px}"]})}return a})()},1384:(y,p,r)=>{r.d(p,{r:()=>b});var h=r(6814),t=r(9212),g=r(9045);function e(c,C){1&c&&t._UZ(0,"span",4)}function _(c,C){1&c&&t.Hsn(0)}const v=[[["","caption",""]]],Z=["[caption]"];let b=(()=>{class c{constructor(d){this.apiService=d,this.requests={},this.task="",this.classes="",this.type="submit",this.disabled=!1,this.clicked=new t.vpe}ngOnInit(){this.apiService.request$.subscribe(d=>{this.requests=d})}get isRequesting(){return!!this.requests&&Object.keys(this.requests).includes(this.task)}handleClick(){this.apiService.onGoingRequestFlag=this.task,this.clicked.emit()}static#e=this.\u0275fac=function(m){return new(m||c)(t.Y36(g.s))};static#t=this.\u0275cmp=t.Xpm({type:c,selectors:[["app-button"]],inputs:{task:"task",classes:"classes",type:"type",disabled:"disabled"},outputs:{clicked:"clicked"},standalone:!0,features:[t.jDz],ngContentSelectors:Z,decls:6,vars:5,consts:[[3,"type","disabled","ngClass","click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf","ngIfElse"],[1,"visually-hidden"],["notRequesting",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(m,u){if(1&m&&(t.F$t(v),t.TgZ(0,"button",0),t.NdJ("click",function(){return u.handleClick()}),t.YNc(1,e,1,0,"span",1),t.TgZ(2,"span",2),t._uU(3,"Loading..."),t.qZA(),t.YNc(4,_,1,0,"ng-template",null,3,t.W1O),t.qZA()),2&m){const f=t.MAs(5);t.Q6J("type",u.type)("disabled",u.disabled)("ngClass",u.classes),t.xp6(1),t.Q6J("ngIf",u.isRequesting)("ngIfElse",f)}},dependencies:[h.mk,h.O5]})}return c})()}}]);