(function(){"use strict";var e={290:function(e,t,n){var o=n(1005);const a=e=>((0,o.pushScopeId)("data-v-e0532cc2"),e=e(),(0,o.popScopeId)(),e),l={key:0,id:"ember201",class:"notification-message text-center zf-notification-container ember-view",style:{transform:"translateY(0px)",opacity:"1",transition:"transform 0.6s ease 0s"}},s={align:"center"},r={key:0,class:"svg-icon",viewBox:"0 0 17 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},c=a((()=>(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5a.905.905 0 0 0-.9.995l.35 3.507a.552.552 0 0 0 1.1 0l.35-3.507A.905.905 0 0 0 8 5zm.002 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"},null,-1))),i=[c],d={key:1,class:"svg-icon",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},m=a((()=>(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412l-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM8 5.5a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"},null,-1))),u=[m],p={key:2,class:"svg-icon",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},h=a((()=>(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"},null,-1))),v=[h],g={key:3,class:"svg-icon",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},f=a((()=>(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M11.46.146A.5.5 0 0 0 11.107 0H4.893a.5.5 0 0 0-.353.146L.146 4.54A.5.5 0 0 0 0 4.893v6.214a.5.5 0 0 0 .146.353l4.394 4.394a.5.5 0 0 0 .353.146h6.214a.5.5 0 0 0 .353-.146l4.394-4.394a.5.5 0 0 0 .146-.353V4.893a.5.5 0 0 0-.146-.353L11.46.146zm-6.106 4.5a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"},null,-1))),E=[f],b={class:"msg"},k=a((()=>(0,o.createElementVNode)("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",viewBox:"0 0 512 512","xml:space":"preserve",class:"icon-remove"},[(0,o.createElementVNode)("path",{d:"M455.2 9.2L256 208.4 56.8 9.2C44.5-3.1 24.6-3.1 12.2 9.2l-2.9 2.9C-3 24.4-3 44.4 9.3 56.7L208.4 256 9.2 455.2c-12.3 12.3-12.3 32.3 0 44.6l2.9 2.9c12.3 12.3 32.3 12.3 44.6 0L256 303.6l199.2 199.2c12.3 12.3 32.3 12.3 44.6 0l2.9-2.9c12.3-12.3 12.3-32.3 0-44.6L303.6 256 502.8 56.8c12.3-12.3 12.3-32.3 0-44.6l-2.9-2.9c-12.5-12.4-32.4-12.4-44.7-.1z"})],-1))),N=[k],V={id:"content",class:"content"};function y(e,t,n,a,c,m){const h=(0,o.resolveComponent)("loader"),f=(0,o.resolveComponent)("router-view"),k=(0,o.resolveComponent)("nav-bar"),y=(0,o.resolveComponent)("app-header");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createVNode)(o.Transition,{name:"bounce"},{default:(0,o.withCtx)((()=>[e.$helper.empty(m.flashMessage)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",l,[(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(`message-container ${m.flashMessage.type}`)},[(0,o.createElementVNode)("div",null,["warning"==m.flashMessage.type?((0,o.openBlock)(),(0,o.createElementBlock)("svg",r,i)):(0,o.createCommentVNode)("",!0),"info"==m.flashMessage.type?((0,o.openBlock)(),(0,o.createElementBlock)("svg",d,u)):(0,o.createCommentVNode)("",!0),"success"==m.flashMessage.type?((0,o.openBlock)(),(0,o.createElementBlock)("svg",p,v)):(0,o.createCommentVNode)("",!0),"danger"==m.flashMessage.type?((0,o.openBlock)(),(0,o.createElementBlock)("svg",g,E)):(0,o.createCommentVNode)("",!0)]),(0,o.createElementVNode)("div",b,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)(m.flashMessage.message),1)]),(0,o.createElementVNode)("div",{onClick:t[0]||(t[0]=t=>e.$store.commit("SET_FLASH_MESSAGE",{}))},N)],2)])]))])),_:1}),(0,o.createElementVNode)("div",{id:"root",class:(0,o.normalizeClass)("root "+(e.isUserLoggedIn?"mn--max hd--expanded":"front-container"))},[(0,o.createElementVNode)("section",V,[m.globalAjaxRequest?((0,o.openBlock)(),(0,o.createBlock)(h,{key:0})):(0,o.createCommentVNode)("",!0),(0,o.createVNode)(f)]),m.appReady?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[(0,o.createVNode)(k),(0,o.createVNode)(y)],64)):(0,o.createCommentVNode)("",!0)],2)],64)}const w={class:"header"},B={class:"header__inner"},C={class:"header__brand"},_={class:"brand-wrap"},S={href:"javascript:void(0)",class:"brand-img stretched-link"},x=["src"],L=(0,o.createElementVNode)("div",{class:"brand-title"},"TAME",-1),A={class:"header__content"},$=(0,o.createElementVNode)("div",{class:"header__content-start",style:{"flex-grow":"0"}},[(0,o.createElementVNode)("button",{type:"button",class:"nav-toggler header__btn btn btn-icon btn-sm"},[(0,o.createElementVNode)("i",{class:"demo-psi-view-list"})])],-1),z={class:"mx-auto"},M={class:"dropdown"},T={key:0,href:"javascript:void(0)",class:"d-flex flex-nowrap align-items-center"},O=["src"],Z={class:"h5 ms-1 text-white mb-0"},R={key:1,href:"javascript:void(0)",class:"d-flex flex-nowrap align-items-center","data-bs-toggle":"dropdown"},D=["src"],j={class:"h5 ms-1 text-white mb-0"},I={class:"dropdown-menu dropdown-menu-end","data-popper-placement":"bottom-end"},F={class:"list-group list-group-borderless listgroup-search scrollable-content"},U={key:0,class:"list-group-item list-group-item-action d-flex align-items-start mb-2"},P=["onClick"],q={class:"header__content-end"},H={key:0,class:"position-relative"},G=(0,o.createStaticVNode)('<div class="position-absolute end-0" style="top:6px;"><div class="vibrating-dot bg-success"></div></div><button class="header__btn btn btn-icon btn-sm" type="button" data-bs-toggle="dropdown"><svg height="22px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="text-success"><path d="M15.385 6.115a.485.485 0 0 0-.048-.736A12.443 12.443 0 0 0 8 3 12.44 12.44 0 0 0 .663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c2.507 0 4.827.802 6.717 2.164.204.148.489.13.668-.049z"></path><path d="M13.229 8.271c.216-.216.194-.578-.063-.745A9.456 9.456 0 0 0 8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065A8.46 8.46 0 0 1 8 7a8.46 8.46 0 0 1 4.577 1.336c.205.132.48.108.652-.065zm-2.183 2.183c.226-.226.185-.605-.1-.75A6.472 6.472 0 0 0 8 9c-1.06 0-2.062.254-2.946.704-.285.145-.326.524-.1.75l.015.015c.16.16.408.19.611.09A5.478 5.478 0 0 1 8 10c.868 0 1.69.201 2.42.56.203.1.45.07.611-.091l.015-.015zM9.06 12.44c.196-.196.198-.52-.04-.66A1.99 1.99 0 0 0 8 11.5a1.99 1.99 0 0 0-1.02.28c-.238.14-.236.464-.04.66l.706.706a.5.5 0 0 0 .708 0l.707-.707z"></path></svg></button>',2),Q=[G],K={key:1,class:""},Y=(0,o.createElementVNode)("button",{class:"header__btn btn btn-icon btn-sm",type:"button","data-bs-toggle":"dropdown"},[(0,o.createElementVNode)("svg",{height:"22px",class:"text-danger",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},[(0,o.createElementVNode)("path",{d:"M10.706 3.294A12.545 12.545 0 0 0 8 3 12.44 12.44 0 0 0 .663 5.379a.485.485 0 0 0-.048.736.518.518 0 0 0 .668.05A11.448 11.448 0 0 1 8 4c.63 0 1.249.05 1.852.148l.854-.854zM8 6c-1.905 0-3.68.56-5.166 1.526a.48.48 0 0 0-.063.745.525.525 0 0 0 .652.065 8.448 8.448 0 0 1 3.51-1.27L8 6zm2.596 1.404l.785-.785c.63.24 1.228.545 1.785.907a.482.482 0 0 1 .063.745.525.525 0 0 1-.652.065 8.462 8.462 0 0 0-1.98-.932zM8 10l.934-.933a6.454 6.454 0 0 1 2.012.637c.285.145.326.524.1.75l-.015.015a.532.532 0 0 1-.611.09A5.478 5.478 0 0 0 8 10zm4.905-4.905l.747-.747c.59.3 1.153.645 1.685 1.03a.485.485 0 0 1 .048.737.518.518 0 0 1-.668.05 11.496 11.496 0 0 0-1.812-1.07zM9.02 11.78c.238.14.236.464.04.66l-.706.706a.5.5 0 0 1-.708 0l-.707-.707c-.195-.195-.197-.518.04-.66A1.99 1.99 0 0 1 8 11.5c.373 0 .722.102 1.02.28zm4.355-9.905a.53.53 0 1 1 .75.75l-10.75 10.75a.53.53 0 0 1-.75-.75l10.75-10.75z"})])],-1),J=[Y],W={class:""},X=(0,o.createElementVNode)("button",{class:"header__btn btn btn-icon btn-sm",type:"button","data-bs-toggle":"dropdown"},[(0,o.createElementVNode)("i",{class:"demo-psi-gear fs-4"})],-1),ee={class:"dropdown-menu dropdown-menu-end w-md-250px","data-popper-placement":"bottom-end",style:{}},te={class:"d-flex align-items-center border-bottom px-3 py-2"},ne={class:"flex-shrink-0"},oe={class:"flex-grow-1 ms-3"},ae={class:"mb-0"},le={class:"text-muted fst-italic"},se={class:"row"},re={class:"col-md-12"},ce={class:"list-group list-group-borderless h-100 py-3"},ie=(0,o.createElementVNode)("i",{class:"demo-pli-male fs-5 me-2"},null,-1),de=(0,o.createElementVNode)("i",{class:"demo-pli-unlock fs-5 me-2"},null,-1);function me(e,t,n,a,l,s){const r=(0,o.resolveComponent)("avatar"),c=(0,o.resolveComponent)("router-link");return(0,o.openBlock)(),(0,o.createElementBlock)("header",w,[(0,o.createElementVNode)("div",B,[(0,o.createElementVNode)("div",C,[(0,o.createElementVNode)("div",_,[(0,o.createElementVNode)("a",S,[(0,o.createElementVNode)("img",{src:`${e.publicPath}img/logo-min.png`,alt:"TAME Logo",class:"logo",width:"40",height:"40"},null,8,x)]),L])]),(0,o.createElementVNode)("div",A,[$,(0,o.createElementVNode)("div",z,[(0,o.createElementVNode)("div",M,[e.$helper.empty(e.loggedUser.branch)?((0,o.openBlock)(),(0,o.createElementBlock)("a",R,[(0,o.createElementVNode)("img",{src:`${e.publicPath}img/restaurant.png`,class:"img-xs",alt:"Branch Icon"},null,8,D),(0,o.createElementVNode)("span",j,(0,o.toDisplayString)(e.lockedBranch?.name||"All Branches"),1)])):((0,o.openBlock)(),(0,o.createElementBlock)("a",T,[(0,o.createElementVNode)("img",{src:`${e.publicPath}img/restaurant.png`,class:"img-xs",alt:"Branch Icon"},null,8,O),(0,o.createElementVNode)("span",Z,(0,o.toDisplayString)(e.lockedBranch?.name),1)])),(0,o.createElementVNode)("div",I,[(0,o.createElementVNode)("div",F,[e.$helper.empty(e.lockedBranch)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",U,[(0,o.createElementVNode)("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=(0,o.withModifiers)((e=>s.setBranch(null)),["prevent"])),class:"h6 d-block mb-0 stretched-link text-decoration-none"},"All Branches")])),((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.branches,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{key:e.id,class:"list-group-item list-group-item-action d-flex align-items-start mb-2"},[(0,o.createElementVNode)("a",{href:"javascript:void(0)",onClick:(0,o.withModifiers)((t=>s.setBranch(e)),["prevent"]),class:"h6 d-block mb-0 stretched-link text-decoration-none"},(0,o.toDisplayString)(e.name),9,P)])))),128))])])])]),(0,o.createElementVNode)("div",q,[e.isOffline?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:0},[e.isOnline?((0,o.openBlock)(),(0,o.createElementBlock)("div",H,Q)):((0,o.openBlock)(),(0,o.createElementBlock)("div",K,J))],64)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",W,[X,(0,o.createElementVNode)("div",ee,[(0,o.createElementVNode)("div",te,[(0,o.createElementVNode)("div",ne,[(0,o.createVNode)(r,{name:e.loggedUser.name,width:"2.25rem",height:"2.25rem"},null,8,["name"])]),(0,o.createElementVNode)("div",oe,[(0,o.createElementVNode)("h5",ae,(0,o.toDisplayString)(e.loggedUser.name),1),(0,o.createElementVNode)("span",le,(0,o.toDisplayString)(e.loggedUser.email),1)])]),(0,o.createElementVNode)("div",se,[(0,o.createElementVNode)("div",re,[(0,o.createElementVNode)("div",ce,[(0,o.createVNode)(c,{to:{name:""},class:"list-group-item list-group-item-action"},{default:(0,o.withCtx)((()=>[ie,(0,o.createTextVNode)(" Profile ")])),_:1}),(0,o.createElementVNode)("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=(0,o.withModifiers)(((...e)=>s.signout&&s.signout(...e)),["prevent"])),class:"list-group-item list-group-item-action"},[de,(0,o.createTextVNode)(" Logout ")])])])])])])])])])])}var ue=n(8845),pe=n(285),he=n(5047),ve={name:"AppHeader",mixins:[he.j],components:{Avatar:ue.Z},data:()=>({userDropdown:!1,notification:!1,hasReadAll:!1,confirmed:!1,selectedBranch:null,selectedContent:"ALL",newDay:{from:new Date(TODAY).toLocaleString("fr-CA",{timeZone:TIMEZONE}).slice(0,10),to:new Date(TODAY).toLocaleString("fr-CA",{timeZone:TIMEZONE}).slice(0,10)}}),computed:{...(0,pe.rn)({lockedBranch:e=>e.branch,branches:e=>e.branches}),notifications(){return this.loggedUser.alerts||[]},hasNotifications(){return this.notifications.some((e=>null==e.read_at))&&!this.hasReadAll}},methods:{signout(){this.$http.post("auth/logout",this.$helper.generateFormData({})).then((e=>{e.data.status&&this.$store.dispatch("logout").then((()=>{window.location.replace(this.$router.resolve({name:"Login"}).href)}))}))},setBranch(e){this.$store.commit("SET_LOCKED_BLANCH",e),location.reload()}}},ge=n(9646);const fe=(0,ge.Z)(ve,[["render",me]]);var Ee=fe;const be={id:"mainnav-container",class:"mainnav"},ke={class:"mainnav__inner"},Ne={class:"mainnav__top-content scrollable-content pb-5"},Ve={class:"mainnav__categoriy py-1"},ye=(0,o.createElementVNode)("h6",{class:"mainnav__caption mt-0 px-3 fw-bold"},"Navigation",-1),we={class:"mainnav__menu nav flex-column"},Be={class:"nav-label mininav-content ms-1 text-capitalize"},Ce=["onClick","id"],_e={class:"nav-label mininav-content ms-1 text-capitalize"},Se={class:"mininav-content nav collapse"},xe={key:0,class:"nav-item"},Le={class:"nk-menu-text text-capitalize"},Ae={key:0,class:"nav-item"},$e=(0,o.createElementVNode)("svg",{class:"fs-5 me-2",height:"15px",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"},[(0,o.createElementVNode)("path",{"fill-rule":"evenodd",d:"M12 1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H4z"}),(0,o.createElementVNode)("path",{d:"M4 2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5v-2zm0 4a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm3-6a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1zm0 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-4z"})],-1),ze=(0,o.createElementVNode)("span",{class:"nav-label mininav-content ms-1 text-capitalize"},"Front Office",-1),Me=[$e,ze],Te={class:"mainnav__bottom-content border-top pb-2"},Oe={id:"mainnav",class:"mainnav__menu nav flex-column"},Ze={class:"nav-item"},Re=(0,o.createElementVNode)("i",{class:"demo-pli-unlock fs-5 me-2"},null,-1),De=(0,o.createElementVNode)("span",{class:"nav-label ms-1"},"Logout",-1),je=[Re,De],Ie=(0,o.createElementVNode)("span",null,"Select Branch and Continue",-1),Fe={class:"w-100"},Ue={class:"form-group mb-3"},Pe=(0,o.createElementVNode)("option",{value:"null",hidden:"",disabled:""},"Select Branch",-1),qe=["value"],He={class:"form-group"},Ge=["disabled"];function Qe(e,t,n,a,l,s){const r=(0,o.resolveComponent)("router-link"),c=(0,o.resolveComponent)("loading-dots"),i=(0,o.resolveComponent)("bootstrap-modal");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("nav",be,[(0,o.createElementVNode)("div",ke,[(0,o.createElementVNode)("div",Ne,[(0,o.createElementVNode)("div",Ve,[ye,(0,o.createElementVNode)("ul",we,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.menus,(t=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[e.$helper.empty(t.submenus)&&s.canAccess(t.title)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{class:"nav-item",key:t.title},[(0,o.createVNode)(r,{to:t.url,class:(0,o.normalizeClass)(["nav-link mininav-toggle collapsed",{active:t.url.name==s.currentRoute}])},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(`${t.icon} fs-5 me-2`)},null,2),(0,o.createElementVNode)("span",Be,(0,o.toDisplayString)(e.$helper.inputTitle(t.title)),1)])),_:2},1032,["to","class"])])):s.canAccess(t.title)?((0,o.openBlock)(),(0,o.createElementBlock)("li",{class:"nav-item has-sub",key:"menu_"+t.title},[(0,o.createElementVNode)("a",{onClick:(0,o.withModifiers)((e=>s.showSubMenus(t.title)),["prevent"]),href:"javascript:void(0)",id:t.title,class:(0,o.normalizeClass)(["nav-link mininav-toggle collapsed",{active:t.url.name==s.currentRoute}])},[(0,o.createElementVNode)("i",{class:(0,o.normalizeClass)(`${t.icon} fs-5 me-2`)},null,2),(0,o.createElementVNode)("span",_e,(0,o.toDisplayString)(t.title),1)],10,Ce),(0,o.createElementVNode)("ul",Se,[((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(t.submenus,((n,a)=>((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:a},[s.canAccess(t.title,a)?((0,o.openBlock)(),(0,o.createElementBlock)("li",xe,[(0,o.createVNode)(r,{to:n,class:"nav-link"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("span",Le,(0,o.toDisplayString)(e.$helper.inputTitle(a)),1)])),_:2},1032,["to"])])):(0,o.createCommentVNode)("",!0)],64)))),128))])])):(0,o.createCommentVNode)("",!0)],64)))),256)),s.canAccess("front_office")?((0,o.openBlock)(),(0,o.createElementBlock)("li",Ae,[(0,o.createElementVNode)("a",{href:"javascript:void(0)",class:"nav-link mininav-toggle collapsed",onClick:t[0]||(t[0]=(0,o.withModifiers)(((...e)=>s.getBranches&&s.getBranches(...e)),["prevent"])),target:"_blank"},Me)])):(0,o.createCommentVNode)("",!0)])])]),(0,o.createElementVNode)("div",Te,[(0,o.createElementVNode)("ul",Oe,[(0,o.createElementVNode)("li",Ze,[(0,o.createElementVNode)("a",{class:"nav-link mininav-toggle collapsed",onClick:t[1]||(t[1]=(0,o.withModifiers)(((...t)=>e.handleLogout&&e.handleLogout(...t)),["prevent"])),href:"javascript:void(0)","aria-expanded":"false"},je)])])])])]),e.modalOpen?((0,o.openBlock)(),(0,o.createBlock)(i,{key:0,onClose:e.toggleModal,"modal-size":"modal-sm"},{head:(0,o.withCtx)((()=>[Ie])),body:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",Fe,[e.branches.length?((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("div",Ue,[(0,o.withDirectives)((0,o.createElementVNode)("select",{class:"form-control-lg form-select","onUpdate:modelValue":t[2]||(t[2]=t=>e.selectedBranch=t)},[Pe,((0,o.openBlock)(!0),(0,o.createElementBlock)(o.Fragment,null,(0,o.renderList)(e.branches,(e=>((0,o.openBlock)(),(0,o.createElementBlock)("option",{value:e.id,key:e.id},(0,o.toDisplayString)(e.name),9,qe)))),128))],512),[[o.vModelSelect,e.selectedBranch]])]),(0,o.createElementVNode)("div",He,[(0,o.createElementVNode)("button",{type:"button",class:"btn btn-primary w-100 btn-lg",onClick:t[3]||(t[3]=(...e)=>s.handleContinue&&s.handleContinue(...e)),disabled:!e.selectedBranch}," Continue ",8,Ge)])],64)):((0,o.openBlock)(),(0,o.createBlock)(c,{key:0}))])])),_:1},8,["onClose"])):(0,o.createCommentVNode)("",!0)],64)}var Ke=n(2327),Ye=n(438),Je=n(637),We={name:"NavBar",components:{BootstrapModal:Ke.Z,LoadingDots:Ye.Z},data:()=>({menus:Je.I,selectedBranch:null,branches:[]}),computed:{systemDate(){return this.$store.state.system_date},currentRoute(){return this.$route.name},isReady(){return this.loggedUser&&Object.keys(this.loggedUser).length>0},permissions(){return this.isReady&&(this.loggedUser.role.pos_permissions||this.loggedUser.role.permissions)}},methods:{handleContinue(){const e=this.$store.state.branches,t=e.find((e=>e.id==this.selectedBranch));this.$store.commit("SET_LOCKED_BLANCH",t),setTimeout((()=>{const e=this.$router.resolve({name:"OrdersCreator",params:{action:"new"}}).href;return window.open(e,"_blank"),!1}),250)},getBranches(){const e=this.$store.state.branch;e&&Object.keys(e).length>0?(this.selectedBranch=e.id,this.$store.commit("SET_LOCKED_BLANCH",e),this.handleContinue()):(this.toggleModal(),this.branches.length||(this.$store.commit("SET_REQUEST_FLAG","GET_BRANCHES"),this.$http.get("branches/show").then((e=>{this.branches=e.data.branches}))))},canAccess(e,t=null){if("ADMINISTRATOR"!=this.userRole&&this.loggedUser.role_id){const n=this.permissions.back_office;return t?n[e][t]&&n[e][t].includes("R"):n[e]&&1==n[e].accessible}return!0},showSubMenus(e){const t=document.querySelector(`a#${e}`),n=t.parentElement;t.classList.toggle("collapsed");const o=n.querySelector("ul");[...document.querySelectorAll(".mininav-content.nav")].forEach((e=>{e!=o&&(e.classList.remove("show"),e.classList.add("collapsed"))})),o.classList.toggle("show"),o.classList.toggle("collapsed")}},mounted(){const e={};Je.I.forEach((t=>{if(t.submenus)for(let n in t.submenus)e[t.submenus[n].name]=`${t.title}.${n}`;else e[t.url.name]=t.title})),this.$store.state.routes=e}};const Xe=(0,ge.Z)(We,[["render",Qe]]);var et=Xe,tt=n(9269),nt={components:{AppHeader:Ee,NavBar:et,Loader:tt.Z},data:()=>({branches:[]}),computed:{flashMessage(){return this.$store.state.flashMessage},appSettings(){return this.$store.state.settings},appReady(){return!this.$helper.empty(this.loggedUser)},globalAjaxRequest(){return this.$store.state.isLoading&&!Object.keys(this.$store.getters.pendingRequests).length}},created(){this.isUserLoggedIn&&this.$http.get("auth/me").then((e=>{this.$store.commit("SET_CURRENT_USER",{...e.data.user})})),this.$http.all([this.$http.post("frontend/preloaders",this.$helper.generateFormData({keys:Object.keys(this.appSettings)})),this.$http.get("pos-branches")]).then(this.$http.spread(((e,t)=>{this.$store.commit("SET_APP_SETTINGS",e.data);const{branches:n}=t.data;n&&(this.$store.commit("SET_BRANCHES",n),this.branches=n)})))},watch:{$route(e){["Orders"].includes(e.name)?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden")}}};const ot=(0,ge.Z)(nt,[["render",y],["__scopeId","data-v-e0532cc2"]]);var at=ot,lt=(n(8314),n(3478)),st=n(7934),rt=n(8068),ct=n(2950),it=n(2493),dt=n(6320),mt=n(9090),ut=n(1540);const pt=(0,o.createApp)(at);rt.Z.withCredentials=!0,rt.Z.interceptors.request.use((e=>{const t=localStorage.getItem("_branch");return t&&(e.url=(0,ut.aF)(e.url,{current_branch:JSON.parse(t).id})),st.Z.state.isLoading=!0,st.Z.getters.requestFlag&&(st.Z.state.pendingRequests[st.Z.getters.requestFlag]=e.url,st.Z.state.requestFlag=null),e}),(e=>(st.Z.commit("REQUEST_RESOLVED",e.config.url),Promise.reject(e)))),rt.Z.interceptors.response.use((e=>(st.Z.commit("REQUEST_RESOLVED",e.config.url),e)),(e=>(st.Z.commit("REQUEST_RESOLVED",e.config.url),401===e.response.status&&"/"!=location.pathname&&"/pos/"!=location.pathname&&(localStorage.removeItem("token"),location.replace(lt.Z.resolve({name:"Login"}).href)),500==e.response.status&&st.Z.commit("SET_FLASH_MESSAGE",{type:"danger",message:"Error Occured. Please contact system administrator"}),Promise.reject(e)))),pt.config.globalProperties.$http=rt.Z,pt.config.globalProperties.$http.defaults.baseURL=`${ut.v2}pos/`;const ht=localStorage.getItem("token");ht&&(pt.config.globalProperties.$http.defaults.headers.common["Authorization"]="Bearer "+ht),pt.component("wolf-button",it.Z),pt.mixin(he.h),pt.use(dt.Z,st.Z).use(mt.Z,st.Z).use(ct.Z).use(st.Z).use(lt.Z).mount("#app")},637:function(e,t,n){n.d(t,{I:function(){return o}});const o=[{title:"dashboard",icon:"demo-pli-home",url:{name:"Dashboard"},notifications:[]},{title:"orders",icon:"demo-pli-tag-3",url:{name:"Orders"},notifications:[]},{title:"menu_items",icon:"demo-pli-mine",url:{name:"Items"},notifications:[]},{title:"tables",icon:"demo-pli-receipt-4",url:{name:"Tables"},notifications:[]},{title:"branches",icon:"demo-pli-map-marker",url:{name:"Branches"},notifications:[]},{title:"reports",icon:"demo-pli-information",url:{name:"ReportsIndex"},notifications:[]},{title:"lead",icon:"demo-pli-male-2",url:{name:""},notifications:[],submenus:{users:{name:"Users"},clients:{name:"Clients"},active_waiters:{name:"ActiveUsers"}}},{title:"settings",icon:"demo-pli-gear",url:{name:""},notifications:[],submenus:{general:{name:"GeneralSettings"},user_roles:{name:"UserRoles"},items_types:{name:"ItemsType"},items_units:{name:""}}}]},2327:function(e,t,n){n.d(t,{Z:function(){return y}});var o=n(1005);const a=e=>((0,o.pushScopeId)("data-v-5ed9aa00"),e=e(),(0,o.popScopeId)(),e),l={class:"modal-content"},s={class:"modal-header"},r={class:"modal-title w-100"},c=a((()=>(0,o.createElementVNode)("em",{class:"demo-pli-cross fs-5 fw-bolder text-danger"},null,-1))),i=[c],d={class:"modal-body"},m={key:1,class:"modal-footer bg-light"};function u(e,t,n,a,c,u){const p=(0,o.resolveComponent)("progress-bar");return(0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,null,[(0,o.createElementVNode)("div",{class:"modal fade show",style:(0,o.normalizeStyle)("display: block; "+(n.isCompact?"z-index: 9999":"")),tabindex:"-1",role:"dialog"},[(0,o.createElementVNode)("div",{class:(0,o.normalizeClass)(["modal-dialog modal-dialog-centered",[n.modalSize]])},[(0,o.createElementVNode)("div",l,[u.modalRequesting?((0,o.openBlock)(),(0,o.createBlock)(p,{key:0,"bg-color":"#003a60"})):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",s,[(0,o.createElementVNode)("h4",r,[(0,o.renderSlot)(e.$slots,"head",{},void 0,!0)]),(0,o.createElementVNode)("a",{href:"javascript:void(0)",class:"close",onClick:t[0]||(t[0]=(0,o.withModifiers)((t=>e.$emit("close")),["prevent"]))},i)]),(0,o.createElementVNode)("div",d,[(0,o.renderSlot)(e.$slots,"body",{},void 0,!0)]),n.showFooter?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,[(0,o.renderSlot)(e.$slots,"foot",{},void 0,!0)])):(0,o.createCommentVNode)("",!0)])],2)],4),(0,o.createElementVNode)("div",{class:"modal-backdrop fade show",onClick:t[1]||(t[1]=(0,o.withModifiers)((t=>e.$emit("close")),["self"]))})],64)}const p=e=>((0,o.pushScopeId)("data-v-52453e0d"),e=e(),(0,o.popScopeId)(),e),h=p((()=>(0,o.createElementVNode)("div",{class:"progress-bar"},null,-1))),v=[h];function g(e,t,n,a,l,s){return(0,o.openBlock)(),(0,o.createElementBlock)("div",{class:"p-container",style:(0,o.normalizeStyle)(`background-color: ${n.bgColor}`)},v,4)}var f={name:"ProgressBar",props:{bgColor:{type:String,default:"#f77c29"}}},E=n(9646);const b=(0,E.Z)(f,[["render",g],["__scopeId","data-v-52453e0d"]]);var k=b,N={name:"BootstrapModal",components:{ProgressBar:k},emits:["close"],props:{modalSize:{type:String,default:"modal-default"},showFooter:{type:Boolean,default:!1},isCompact:{type:Boolean,default:!1}},computed:{modalRequesting(){return this.isProcessing("MODAL_REQUEST")}}};const V=(0,E.Z)(N,[["render",u],["__scopeId","data-v-5ed9aa00"]]);var y=V},438:function(e,t,n){n.d(t,{Z:function(){return m}});var o=n(1005);const a={class:"loading text-center"},l=(0,o.createStaticVNode)('<div class="load-circle1" data-v-acb599ce></div><div class="load-circle2" data-v-acb599ce></div><div class="load-circle3" data-v-acb599ce></div><div class="load-circle4" data-v-acb599ce></div><div class="load-circle5" data-v-acb599ce></div>',5),s=[l];function r(e,t,n,l,r,c){return(0,o.openBlock)(),(0,o.createElementBlock)("div",a,s)}var c={name:"LoadingDots"},i=n(9646);const d=(0,i.Z)(c,[["render",r],["__scopeId","data-v-acb599ce"]]);var m=d}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,l){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],l=e[d][2];for(var r=!0,c=0;c<o.length;c++)(!1&l||s>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(r=!1,l<s&&(s=l));if(r){e.splice(d--,1);var i=a();void 0!==i&&(t=i)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,o){return n.f[o](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/mainChuck.c48c1f62.js"}}(),function(){n.miniCssF=function(e){return"css/mainChuck.e58a9078.css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="tame-pos:";n.l=function(o,a,l,s){if(e[o])e[o].push(a);else{var r,c;if(void 0!==l)for(var i=document.getElementsByTagName("script"),d=0;d<i.length;d++){var m=i[d];if(m.getAttribute("src")==o||m.getAttribute("data-webpack")==t+l){r=m;break}}r||(c=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,n.nc&&r.setAttribute("nonce",n.nc),r.setAttribute("data-webpack",t+l),r.src=o),e[o]=[a];var u=function(t,n){r.onerror=r.onload=null,clearTimeout(p);var a=e[o];if(delete e[o],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(u.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=u.bind(null,r.onerror),r.onload=u.bind(null,r.onload),c&&document.head.appendChild(r)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/pos/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,o,a){var l=document.createElement("link");l.rel="stylesheet",l.type="text/css";var s=function(n){if(l.onerror=l.onload=null,"load"===n.type)o();else{var s=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=r,l.parentNode&&l.parentNode.removeChild(l),a(c)}};return l.onerror=l.onload=s,l.href=t,n?n.parentNode.insertBefore(l,n.nextSibling):document.head.appendChild(l),l},t=function(e,t){for(var n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var a=n[o],l=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(l===e||l===t))return a}var s=document.getElementsByTagName("style");for(o=0;o<s.length;o++){a=s[o],l=a.getAttribute("data-href");if(l===e||l===t)return a}},o=function(o){return new Promise((function(a,l){var s=n.miniCssF(o),r=n.p+s;if(t(s,r))return a();e(o,r,null,a,l)}))},a={826:0};n.f.miniCss=function(e,t){var n={263:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=o(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}}(),function(){var e={826:0};n.f.j=function(t,o){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else{var l=new Promise((function(n,o){a=e[t]=[n,o]}));o.push(a[2]=l);var s=n.p+n.u(t),r=new Error,c=function(o){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var l=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;r.message="Loading chunk "+t+" failed.\n("+l+": "+s+")",r.name="ChunkLoadError",r.type=l,r.request=s,a[1](r)}};n.l(s,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,s=o[0],r=o[1],c=o[2],i=0;if(s.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(c)var d=c(n)}for(t&&t(o);i<s.length;i++)l=s[i],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(d)},o=self["webpackChunktame_pos"]=self["webpackChunktame_pos"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998,64],(function(){return n(290)}));o=n.O(o)})();
//# sourceMappingURL=index.add1a685.js.map